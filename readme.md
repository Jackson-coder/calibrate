# 相机标定与测距

## 功能说明
本工程文件可以用于单目鱼眼相机标定、双目相机标定、双目相机测距、图像去畸变和加畸变，也可以用于由以上功能衍生出的双目相机（rgb*1 + fisheye*1）的测距工作。

## 使用说明
1.进入本工程项目的目录；&nbsp;

2.键入以下内容：&nbsp;

```shell
mkdir build
cd build
cmake ..
```

&nbsp;

3.选择想要实现的功能：&nbsp;

功能0：双目标定 &nbsp;

功能1：单目鱼眼标定 &nbsp;

功能2：双目测距（立体重建、投影评估）&nbsp;

功能3：单目鱼眼转单目rgb（图像去畸变和加畸变）&nbsp;

对应的功能选择在main.cpp里第27行。&nbsp;


4.键入以下内容：&nbsp;

```shell
make
./calibrate
```

Tips: &nbsp;

在执行./calibrate 时使用的是本项目自带的图片数据进行测试，若想使用其他数据，可以通过如下命令查找命令输入方式：

```shell
./calibrate --help
```

在使用功能2的时候，如果想要针对设定的一系列点P进行测试，可以修改第1155行代码的inputPoints的值，可以从图像上看到畸变去除前后的对应位置。如果当前点的深度信息测量正常（本项目以深度信息>10000认定为异常检测，该系列的点抛弃），可以从终端读出该点的三维坐标（可以通过去除main.cpp的1396行的注释，注释1397行至1442行，输入cout<<imagePoints<<endl 得到答案）。

测试所建立模型的重投影误差时，可以通过1344行修改testoutputPoints2D.size的大小设定测试样例数目，1433行输出了测试点error值的大小。
